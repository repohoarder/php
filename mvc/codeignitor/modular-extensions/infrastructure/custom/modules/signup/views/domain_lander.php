

<style type="text/css">

	label.error {position:absolute;right:90px;bottom:-18px;}

	.errors_wrapper {padding:10px 27px 0 27px;}

	.errors {position:relative;float:left;width:100%;margin:20px -2px 0 -2px;background:#fec2c3 url('/resources/brainhost/img/icon-error.png') 10px center no-repeat;border:2px solid #a32e2e;-webkit-border-radius:7px;border-radius:7px;margin:0;padding:20px 0;}

	.errors li {
		list-style-type:none;
		padding:0 0 0 70px;
	}
	.errors .pad {padding:20px 20px 20px 100px;}
	.errors h2 {font-size:16px;color:#811d1d;font-weight:800;}

	.tld_transfer_option {display:none;}

	#form_wrapper ul.errors {margin:0 !important;}
	#form_wrapper .errors_wrapper {padding:0px 55px 10px;}

	#form_wrapper {padding:0 27px;}
	#form_wrapper form {}
	#form_wrapper form > fieldset {float:left;width:100%;box-sizing:border-box;margin:25px 0 0;padding:20px 0px;background:#E9EDEC;-webkit-border-radius: 5px;
border-radius: 5px;}
	#form_wrapper form legend {display:none;}
		#form_wrapper form >  fieldset > h2 {padding:0 10px 10px;color:#3262aa;font-size:18px;font-weight:bold;font-size:3em;}
	#form_wrapper form ul {float:left;margin:15px 25px 15px 15px;padding-left:20px;}
	#form_wrapper form fieldset fieldset {float:left;width:600px;margin-top:10px;padding:20px 30px;background:#fff;-webkit-border-radius: 5px;
border-radius: 5px;border:3px solid #ddd;}
		#form_wrapper form fieldset fieldset h2 {float:left;margin:0px 25px 0 0;font-size:22px;color:#395aa8;border:3px solid #ddd;}

	#form_wrapper ul li {list-style-type:none;text-align:left;}
	#form_wrapper .domain_input {position:relative;}
	

#form_wrapper form input[type='submit'] {

	padding:3px 20px;cursor:pointer;
	border:none;
	font-size:25px;
	font-weight:500;
	text-align:center;
	text-shadow:-1px -1px 1px #555;
	color:#fff;
	-webkit-border-radius:5px;
	border-radius:5px;
	margin:0;

	background: #76b01d; /* Old browsers */
	background: -moz-linear-gradient(top, #76b01d 0%, #548e13 100%); /* FF3.6+ */
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#76b01d), color-stop(100%,#548e13)); /* Chrome,Safari4+ */
	background: -webkit-linear-gradient(top, #76b01d 0%,#548e13 100%); /* Chrome10+,Safari5.1+ */
	background: -o-linear-gradient(top, #76b01d 0%,#548e13 100%); /* Opera 11.10+ */
	background: -ms-linear-gradient(top, #76b01d 0%,#548e13 100%); /* IE10+ */
	background: linear-gradient(to bottom, #76b01d 0%,#548e13 100%); /* W3C */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#76b01d', endColorstr='#548e13',GradientType=0 ); /* IE6-9 */
}

#form_wrapper form input[type='submit']:hover {

text-shadow:1px 1px 1px #555;

background: #548e13; /* Old browsers */
background: -moz-linear-gradient(top, #548e13 0%, #76b01d 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#548e13), color-stop(100%,#76b01d)); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, #548e13 0%,#76b01d 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, #548e13 0%,#76b01d 100%); /* Opera 11.10+ */
background: -ms-linear-gradient(top, #548e13 0%,#76b01d 100%); /* IE10+ */
background: linear-gradient(to bottom, #548e13 0%,#76b01d 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#548e13', endColorstr='#76b01d',GradientType=0 ); /* IE6-9 */

}

#form_wrapper .button_wrapper {
	padding:1px;

	-webkit-border-radius:5px;
	border-radius:5px;

background: #548e13; /* Old browsers */
background: -moz-linear-gradient(top, #548e13 0%, #76b01d 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#548e13), color-stop(100%,#76b01d)); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, #548e13 0%,#76b01d 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, #548e13 0%,#76b01d 100%); /* Opera 11.10+ */
background: -ms-linear-gradient(top, #548e13 0%,#76b01d 100%); /* IE10+ */
background: linear-gradient(to bottom, #548e13 0%,#76b01d 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#548e13', endColorstr='#76b01d',GradientType=0 ); /* IE6-9 */

}

#form_wrapper .button_wrapper:hover {
background: #76b01d; /* Old browsers */
	background: -moz-linear-gradient(top, #76b01d 0%, #548e13 100%); /* FF3.6+ */
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#76b01d), color-stop(100%,#548e13)); /* Chrome,Safari4+ */
	background: -webkit-linear-gradient(top, #76b01d 0%,#548e13 100%); /* Chrome10+,Safari5.1+ */
	background: -o-linear-gradient(top, #76b01d 0%,#548e13 100%); /* Opera 11.10+ */
	background: -ms-linear-gradient(top, #76b01d 0%,#548e13 100%); /* IE10+ */
	background: linear-gradient(to bottom, #76b01d 0%,#548e13 100%); /* W3C */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#76b01d', endColorstr='#548e13',GradientType=0 ); /* IE6-9 */
}

	#form_wrapper fieldset table {width:49%;float:left;}
	#form_wrapper fieldset td {padding:3px 10px;text-align:right;}
		#form_wrapper fieldset td:first-child {text-align:left;}
		#form_wrapper fieldset .suggestions td {text-align:left;}
			#form_wrapper fieldset .suggestions td:first-child {width:25px;padding-left:33px;} 
	#form_wrapper fieldset table tr:nth-child(odd) td {background:#f5f5f5;}
	#form_wrapper fieldset table tfoot tr td.info, #form_wrapper fieldset table tfoot tr td.total {padding:30px 10px;background:#fff;border-top:1px solid #e1e1e1;}
		#form_wrapper fieldset table tfoot tr td.info {padding:30px 30% 30px 15px;}
		#form_wrapper fieldset table tfoot tr td.total {font-size:22px;font-weight:800;}

	#form_wrapper .domain_input .domain_example {position:absolute;top:53px;color:#aaa;font-size:0.8em;left:6px}

	#form_wrapper .tld_option {padding:0 0 0 10px;display:block;}
	#form_wrapper .tld_hidden {float:left;display:none;width:100%;}
		#form_wrapper .tld_hidden:hover {background-color:#cfcfcf;}
		#form_wrapper .tld_hidden:last-child {-webkit-border-radius:0 0 5px 5px;border-radius:0 0 5px 5px;}


	#form_wrapper #txtDomainName {

		border:1px solid #eee;
		font-size:1.8em;
		height:50px;
		width:290px;
		margin:0 6px;

		padding-right:80px;

 
		padding-left:8px;
		-webkit-box-shadow: inset 1px 1px 5px 1px #dddddd;
		box-shadow: inset 1px 1px 5px 1px #dddddd;
	}

	body.js #form_wrapper #txtDomainName {

		background:url('/resources/modules/signup/assets/image/<?php echo $this->session->userdata('_language'); ?>/domain_input_placeholder.png') 13px 17px no-repeat;
	}

</style>


<!-- jQuery Tooltip --
<script type="text/javascript">
$(function() {
	$( document ).tooltip();
});
</script>
-->

<?php $is_lanty = in_array($this->session->userdata('_pre_arpu_partner_id'), array('251', '169', '225'));?>

<div id="form_wrapper">

	<?php

	if (isset($suggestions) && ! is_null($suggestions)):

		$data['suggestions'] = $suggestions;
		echo $this->template->load_view('suggestions', $data);

	endif;


	if ( ! ($suggestions && $is_lanty)):

	?>

	<form action="" method="post" id="frmDomain">
		<fieldset>

		<?php
		## HACK: Tim Atkinson
		$partner_id 	= $this->session->userdata('partner_id');

		// if partner is atkinson, show video
		if ($partner_id == 208):

			echo '<center><iframe id="ytplayer" height="300" width="500" type="text/html" src="https://www.youtube.com/embed/9zr8d9boZ9A?autoplay=1&amp;controls=0&amp;rel=0&amp;showinfo=0&amp;autohide=1" frameborder="0" allowfullscreen></iframe></center><br>';

		endif;
		## END HACK: Tim Atkinson
		?>

			<h2><?php echo $this->lang->line('signup_title'); ?></h2>

			<?php

				$post_checked = (isset($fields) ? $fields['core_type'] : 'register');

				$checked = array(
					'register' => '',
					'transfer' => '',
					'dns'      => ''
				);

				$checked[$post_checked] = 'checked="checked"';

				$radios = array(
					'register' => array(
						'id'    => 'radSelectDomainNew',
						'label' => $this->lang->line('signup_register'),
						'title'	=> $this->lang->line('signup_register_title')
					),
					'transfer' => array(
						'id'    => 'radSelectDomainExisting',
						'label' => $this->lang->line('signup_transfer'),
						'title'	=> $this->lang->line('signup_transfer_title')
					),
					'dns'      => array(
						'id'    => 'radSelectDomainUpdate',
						'label' => $this->lang->line('signup_dns'),
						'title'	=> $this->lang->line('signup_dns_title')
					)
				);
			?>

			<ul style="margin-left:0px;">
				<?php foreach ($radios as $key => $info): ?>

					<li>
						<input type="radio" name="core_type" id="<?php echo $info['id'];?>" value="<?php echo $key;?>" <?php echo $checked[$key];?> />
						<label for="<?php echo $info['id'];?>" title="<?php echo $info['title']; ?>" style="width:130px;background:url('/resources/brainhost/img/icon-question.png') right no-repeat;display:inline-block;"><?php echo $info['label'];?></label>
					</li>

				<?php endforeach; ?>
			</ul>
			<fieldset style="width:595px;">

				<legend>Domain Name</legend>
				
				<?php /*
				<h2>Domain Name</h2>
				*/ ?>

				<label for="txtDomainName" style="float:left;line-height:50px;">www.</label>
				<span class="domain_input" style="float:left;display:block;">
					<input type="text" id="txtDomainName" name="core_sld" value="<?php echo $fields['core_sld']; ?>" class="required" />
					<span class="tld_dropdown" style="text-align:left;display:block;position:absolute;top:8px;right:13px;width:81px;line-height:38px;-webkit-border-radius:5px;border-radius:5px;background:#ddd url('/resources/modules/signup/assets/image/dropdown_icon.png') 50px 8px no-repeat;cursor:pointer;max-height:230px;overflow-y:auto;overflow-x:hidden;">
						<span class="tld_hidden tld_option" data-tld="com">.com</span>
						<span class="tld_hidden tld_option" data-tld="net">.net</span>
						<span class="tld_hidden tld_option" data-tld="org">.org</span>
						<span class="tld_hidden tld_option" data-tld="info">.info</span>
						<span class="tld_hidden tld_option" data-tld="biz">.biz</span>

						<?php 

						$transfer_tlds = array(
							".co"      => "co",
							".me"      => "me",
							".mobi"    => "mobi",
							".us"      => "us",
							".tv"      => "tv",
							".xxx"     => "xxx",
							".ca"      => "ca",
							".com.au"  => "com.au",
							".net.au"  => "net.au",
							".org.au"  => "org.au",
							".mx"      => "mx",
							".ws"      => "ws",
							".ag"      => "ag",
							".com.ag"  => "com.ag",
							".net.ag"  => "net.ag",
							".org.ag"  => "org.ag",
							".am"      => "am",
							".asia"    => "asia",
							".at"      => "at",
							".be"      => "be",
							".com.br"  => "com.br",
							".net.br"  => "net.br",
							".bz"      => "bz",
							".com.bz"  => "com.bz",
							".net.bz"  => "net.bz",
							".cc"      => "cc",
							".com.co"  => "com.co",
							".net.co"  => "net.co",
							".nom.co"  => "nom.co",
							".de"      => "de",
							".es"      => "es",
							".com.es"  => "com.es",
							".nom.es"  => "nom.es",
							".org.es"  => "org.es",
							".eu"      => "eu",
							".fm"      => "fm",
							".fr"      => "fr",
							".gs"      => "gs",
							".in"      => "in",
							".co.in"   => "co.in",
							".firm.in" => "firm.in",
							".gen.in"  => "gen.in",
							".ind.in"  => "ind.in",
							".net.in"  => "net.in",
							".org.in"  => "org.in",
							".it"      => "it",
							".jobs"    => "jobs",
							".jp"      => "jp",
							".ms"      => "ms",
							".com.mx"  => "com.mx",
							".nl"      => "nl",
							".nu"      => "nu",
							".co.nz"   => "co.nz",
							".net.nz"  => "net.nz",
							".org.nz"  => "org.nz",
							".se"      => "se",
							".tk"      => "tk",
							".tw"      => "tw",
							".com.tw"  => "com.tw",
							".idv.tw"  => "idv.tw",
							".org.tw"  => "org.tw",
							".co.uk"   => "co.uk",
							".me.uk"   => "me.uk",
							".org.uk"  => "org.uk",
							".vg"      => "vg"
						);

						foreach ($transfer_tlds as $label=>$tld): ?>

							<span class="tld_transfer_option" data-tld="<?php echo $tld;?>"><?php echo $label; ?></span>

						<?php endforeach; ?>

					</span>
					<input type="hidden" id="core_tld" name="core_tld" value="<?php echo ($fields['core_tld']) ? $fields['core_tld'] : 'com'; ?>" />
					<span class="domain_example">ex. google.com</span>
				</span>

				<span class="button_wrapper" style="float:left;margin-top:8px;">
					<input type="submit" value="<?php echo $this->lang->line('signup_continue'); ?>"/>
				</span>

				<div style="clear:both;"></div>
				

			</fieldset>
		</fieldset>

		<input type="hidden" name="action_id" value="49"/>

	</form>

<?php endif; ?>

</div>

<script type="text/javascript">
	
	$(document).ready(function(){

		$('#frmDomain').submit(function(e) {
			if($('#frmDomain').validate().checkForm()){
				show_loading_dialog();
			} else {
				e.preventDefault();
			}
		});

		$('body').addClass('js');

		if ($('#txtDomainName').val() != '') {
			$('#txtDomainName').css('background','none');
		}

		if ($('input[name="core_type"]').val() != 'register'){

			$('.tld_transfer_option').addClass('tld_hidden');
			$('.tld_transfer_option').addClass('tld_option');

		}else if ($('.tld_option[data-tld="'+$('#core_tld').val()+'"]').hasClass('tld_transfer_option')){

			$('.tld_option[data-tld="com"]').click().show();

		}

		$('#txtDomainName').focus(function(){

			if ($('.tld_dropdown').hasClass('tld_clicked')){
				$('.tld_shown').click();
			}

		});

		$('input[name="core_type"]').change(function(){

			if ($('.tld_dropdown').hasClass('tld_clicked')){
				$('.tld_shown').click();
			}

			if ($(this).val() != 'register'){

				if ( ! $('.tld_transfer_option').hasClass('tld_hidden')){
					$('.tld_transfer_option').addClass('tld_hidden');
					$('.tld_transfer_option').addClass('tld_option');
				}

			}else{

				if ($('.tld_transfer_option').hasClass('tld_shown')){
					
					if ( ! $('.tld_dropdown').hasClass('tld_clicked')){

						$('.tld_dropdown').addClass('tld_clicked');

					}

					$('.tld_option[data-tld="com"]').click().show();

				}

				$('.tld_transfer_option').removeClass('tld_hidden').removeClass('tld_shown').removeClass('tld_option').hide();


			}

		});

		$('#txtDomainName').keydown(function(){

			$('#txtDomainName').css('background','none');

		});

		$('#txtDomainName').change(function(){

			$('#txtDomainName').css('background','none');

		});

		$('#txtDomainName').focus();

		$('.tld_option[data-tld="'+$('#core_tld').val()+'"]').addClass('tld_shown').removeClass('tld_hidden');


		$('.tld_option').live('click',function(e){

			if ( ! $('.tld_dropdown').hasClass('tld_clicked')) {

				$('.tld_dropdown').addClass('tld_clicked');
				$('.tld_option').show();

			} else {

				$('.tld_shown').removeClass('tld_shown').addClass('tld_hidden');
				$(this).removeClass('tld_hidden').addClass('tld_shown');

				$('.tld_hidden').hide();

				$('#core_tld').val($(this).data('tld'));

				$('.tld_dropdown').removeClass('tld_clicked');

			}

		});

	});

</script>

<?php
## HACK: Atkinson
if ($partner_id == 208):
?>

	<!-- <iframe src="https://8953.clicksurecpa.com/pixel?transactionRef=<?php echo $this->session->userdata('ip_address'); ?>" width="1px" height="1px" frameborder="0"></iframe> -->

<?php
endif;
?>